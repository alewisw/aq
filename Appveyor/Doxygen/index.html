<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>AQ: A Multi-Producer Concurrent Allocating Queue</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AQ
   &#160;<span id="projectnumber">0.0</span>
   </div>
   <div id="projectbrief">Multi-Producer Concurrent Allocating Queue</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">A Multi-Producer Concurrent Allocating Queue </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The AQ library provides a queue data structure intended for use as an inter-thread and inter-process communications mechanism. The AQ data structure is suitable for situations where:</p><ul>
<li>All data storage for items in the queue must reside within the queue memory itself.</li>
<li>Multiple producers concurrent write items into the queue.</li>
<li>A single consumer reads and processes all items placed into the queue.</li>
</ul>
<p>The AQ has a number of features that make it particularly suitable for use as an inter-thread or inter-process communications mechanism; namely:</p><ul>
<li>Access to the queue (for any number of producers and a single consumer) is fully thread-safe using a lock-free algorithm.</li>
<li>The lock-free algorithm in turn means that there is no scheduler overhead induced by operating system locking primitives such as semaphores or mutexes.</li>
<li>The queue allocates memory for each item from its internal shared memory pool - no external memory management is required.</li>
<li>Two modes of operation are supported for memory allocation:<ul>
<li>Fixed length items consisting of a single contiguous memory regions.</li>
<li>Variable length items consisting of a linked-list of memory regions.</li>
</ul>
</li>
<li>The queue is robust in the face of unexpected application termination, especially when the application is in the middle of performing opertions on the queue.</li>
<li>The queue content can be fully captured and examined by taking a snapshot-in-time. This allow for recovery and examination of previously processed items in the case of unexpected application termination.</li>
</ul>
<h2>Internal Structure and Queue Algorithm</h2>
<p>In order to understand how to use the AQ interface a general understanding of the internal structure of the queue is required.</p><ul>
<li>A queue consists of an array of fixed size pages. The size of each page must be a power of two (i.e., 8, 16, 32, 64, 128, 256, etc bytes).</li>
<li>Multiple contiguous pages are grouped together to form an item.</li>
<li>Each item contains data supplied by the user and stored in the queue.</li>
<li>The status of each item is maintained by a control word. There is one control word per page in the queue.</li>
<li>The control word contains the following parameters:<ul>
<li>The number of pages in the item.</li>
<li>Whether the item has been claimed via a call to <a class="el" href="class_a_q_writer.html#ae0e2eeac326abd648b6aa60a1fb5315a" title="Claims an item to be stored in the queue. ">AQWriter::claim()</a>.</li>
<li>Whether the item has been committed via a call to <a class="el" href="class_a_q_writer.html#a598bba1f79e007e038ab76d8939a5b56" title="Commits an item previously obtained via a claim() call to the queue so that it is available for consu...">AQWriter::commit()</a>.</li>
<li>Whether the item has been retrieved and then released by calling <a class="el" href="class_a_q_reader.html#a6746d86b29c04ff19032106323cdef6f" title="Obtains the next item from the queue. ">AQReader::retrieve()</a> followed by <a class="el" href="class_a_q_reader.html#aad5233986e056a2da7f23e282b7a2596" title="Releases the passed item so that it can be discarded from the queue. ">AQReader::release()</a>.</li>
</ul>
</li>
<li>The queue maintains two pointers.<ul>
<li>The tail points to the page containing the start of the oldest unreleased item in the queue. An unreleased item is one that has not yet been passed to <a class="el" href="class_a_q_reader.html#aad5233986e056a2da7f23e282b7a2596" title="Releases the passed item so that it can be discarded from the queue. ">AQReader::release()</a>.</li>
<li>The head points to the oldest released page in the queue. The next item to be written will be stored at the head position. When the head and tail are equal to the queue is empty; when the head is exactly one less than the tail the queue is full. Thus in a full queue there is one page that is unusable for new allocation.</li>
</ul>
</li>
</ul>
<p>Shown below is an example of the queue data structure moving through a series of states. This example is described in detail below to help explain how the queue data is structured and the properties that this implies.</p>
<h3>Initial State</h3>
<table class="doxtable">
<tr>
<td border="0" width="10%">Pointers: </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td bgcolor="#ffff66" width="6%" align="center">Tail </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td bgcolor="#bfbfbf" width="6%" align="center">Head </td><td width="6%"></td><td width="6%"></td><td width="6%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Index: </td><td bgcolor="#bfbfbf" valign="middle" align="center">0 </td><td bgcolor="#bfbfbf" valign="middle" align="center">1 </td><td bgcolor="#ff5050" valign="middle" align="center">2 </td><td bgcolor="#ff5050" valign="middle" align="center">3 </td><td bgcolor="#ffff66" valign="middle" align="center">4 </td><td bgcolor="#66ff66" valign="middle" align="center">5 </td><td bgcolor="#66ff66" valign="middle" align="center">6 </td><td bgcolor="#99ffcc" valign="middle" align="center">7 </td><td bgcolor="#99ffcc" valign="middle" align="center">8 </td><td bgcolor="#ff9933" valign="middle" align="center">9 </td><td bgcolor="#ffff66" valign="middle" align="center">10 </td><td bgcolor="#bfbfbf" valign="middle" align="center">11 </td><td bgcolor="#bfbfbf" valign="middle" align="center">12 </td><td bgcolor="#bfbfbf" valign="middle" align="center">13 </td><td bgcolor="#8f8f8f" valign="middle" align="center">14 </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Control: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">2 pages<br />
commit<br />
released </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
released </td><td bgcolor="#ffff66" valign="top" align="center">1 page<br />
claim<br />
commit </td><td bgcolor="#66ff66" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
commit<br />
retrieve<br />
release </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
commit<br />
retrieve </td><td bgcolor="#ff9933" valign="top" align="center">1 page<br />
claim </td><td bgcolor="#ffff66" valign="top" align="center">1 page<br />
claim<br />
commit </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="3">3 pages<br />
commit<br />
released </td><td bgcolor="#8f8f8f" valign="top" align="center">waste </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">User Data: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">BB BB </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">cc cc </td><td bgcolor="#ffff66" valign="top" align="center">DD </td><td bgcolor="#66ff66" valign="top" align="center" colspan="2">EE EE </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">FF FF </td><td bgcolor="#ff9933" valign="top" align="center">gg </td><td bgcolor="#ffff66" valign="top" align="center">HH </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="3">AA AA AA </td><td bgcolor="#8f8f8f"></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Snapshot: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">index 1<br />
released<br />
 </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">index 2<br />
incomplete<br />
released<br />
 </td><td bgcolor="#ffff66" valign="top" align="center">index 3 </td><td bgcolor="#66ff66" valign="top" align="center" colspan="2">index 4<br />
released </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">index 5 </td><td bgcolor="#ff9933" valign="top" align="center">index 6<br />
incomplete </td><td bgcolor="#ffff66" valign="top" align="center">index 7 </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="3">Index 0<br />
released </td><td></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Available Size: </td><td valign="top" align="center" colspan="3">3 pages </td><td colspan="8"></td><td bgcolor="#cc66ff" valign="top" align="center" colspan="4">4 pages </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
</table>
<h3>Claim Operation - <a class="el" href="class_a_q_writer.html#ae0e2eeac326abd648b6aa60a1fb5315a" title="Claims an item to be stored in the queue. ">AQWriter::claim()</a></h3>
<table class="doxtable">
<tr>
<td border="0" width="10%">Pointers: </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td bgcolor="#ffff66" width="6%" align="center">Tail </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td bgcolor="#8f8f8f" width="6%" align="center">Head </td><td width="6%"></td><td width="6%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Index: </td><td bgcolor="#bfbfbf" valign="middle" align="center">0 </td><td bgcolor="#bfbfbf" valign="middle" align="center">1 </td><td bgcolor="#ff5050" valign="middle" align="center">2 </td><td bgcolor="#ff5050" valign="middle" align="center">3 </td><td bgcolor="#ffff66" valign="middle" align="center">4 </td><td bgcolor="#66ff66" valign="middle" align="center">5 </td><td bgcolor="#66ff66" valign="middle" align="center">6 </td><td bgcolor="#99ffcc" valign="middle" align="center">7 </td><td bgcolor="#99ffcc" valign="middle" align="center">8 </td><td bgcolor="#ff9933" valign="middle" align="center">9 </td><td bgcolor="#ffff66" valign="middle" align="center">10 </td><td bgcolor="#ff9933" valign="middle" align="center">11 </td><td bgcolor="#8f8f8f" valign="middle" align="center">12 </td><td bgcolor="#8f8f8f" valign="middle" align="center">13 </td><td bgcolor="#8f8f8f" valign="middle" align="center">14 </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Control: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">2 pages<br />
commit<br />
released </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
released </td><td bgcolor="#ffff66" valign="top" align="center">1 page<br />
claim<br />
commit </td><td bgcolor="#66ff66" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
commit<br />
retrieve<br />
release </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
commit<br />
retrieve </td><td bgcolor="#ff9933" valign="top" align="center">1 page<br />
claim </td><td bgcolor="#ffff66" valign="top" align="center">1 page<br />
claim<br />
commit </td><td bgcolor="#ff9933" valign="top" align="center">1 page<br />
claim </td><td bgcolor="#8f8f8f" valign="top" align="center">unused </td><td bgcolor="#8f8f8f" valign="top" align="center">unused </td><td bgcolor="#8f8f8f" valign="top" align="center">waste </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">User Data: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">BB BB </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">cc cc </td><td bgcolor="#ffff66" valign="top" align="center">DD </td><td bgcolor="#66ff66" valign="top" align="center" colspan="2">EE EE </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">FF FF </td><td bgcolor="#ff9933" valign="top" align="center">gg </td><td bgcolor="#ffff66" valign="top" align="center">HH </td><td bgcolor="#ff9933" valign="top" align="center">ii </td><td bgcolor="#8f8f8f" valign="top" align="center">aa </td><td bgcolor="#8f8f8f" valign="top" align="center">aa </td><td bgcolor="#8f8f8f"></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Snaphot: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">index 0<br />
released </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">index 1<br />
incomplete<br />
released </td><td bgcolor="#ffff66" valign="top" align="center">index 2 </td><td bgcolor="#66ff66" valign="top" align="center" colspan="2">index 3<br />
released </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">index 4 </td><td bgcolor="#ff9933" valign="top" align="center">index 5<br />
incomplete </td><td bgcolor="#ffff66" valign="top" align="center">index 6 </td><td bgcolor="#8f8f8f" valign="top" align="center"></td><td></td><td></td><td></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Available Size: </td><td bgcolor="#cc66ff" valign="top" align="center" colspan="3">3 pages </td><td colspan="9"></td><td bgcolor="#cc66ff" valign="top" align="center" colspan="3">3 pages </td><td width="0%"></td></tr>
</table>
<h3>Commit Operation - <a class="el" href="class_a_q_writer.html#a598bba1f79e007e038ab76d8939a5b56" title="Commits an item previously obtained via a claim() call to the queue so that it is available for consu...">AQWriter::commit()</a></h3>
<table class="doxtable">
<tr>
<td border="0" width="10%">Pointers: </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td bgcolor="#ffff66" width="6%" align="center">Tail </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td bgcolor="#8f8f8f" width="6%" align="center">Head </td><td width="6%"></td><td width="6%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Index: </td><td bgcolor="#bfbfbf" valign="middle" align="center">0 </td><td bgcolor="#bfbfbf" valign="middle" align="center">1 </td><td bgcolor="#ff5050" valign="middle" align="center">2 </td><td bgcolor="#ff5050" valign="middle" align="center">3 </td><td bgcolor="#ffff66" valign="middle" align="center">4 </td><td bgcolor="#66ff66" valign="middle" align="center">5 </td><td bgcolor="#66ff66" valign="middle" align="center">6 </td><td bgcolor="#99ffcc" valign="middle" align="center">7 </td><td bgcolor="#99ffcc" valign="middle" align="center">8 </td><td bgcolor="#ff9933" valign="middle" align="center">9 </td><td bgcolor="#ffff66" valign="middle" align="center">10 </td><td bgcolor="#ffff66" valign="middle" align="center">11 </td><td bgcolor="#8f8f8f" valign="middle" align="center">12 </td><td bgcolor="#8f8f8f" valign="middle" align="center">13 </td><td bgcolor="#8f8f8f" valign="middle" align="center">14 </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Control: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">2 pages<br />
commit<br />
released </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
released </td><td bgcolor="#ffff66" valign="top" align="center">1 page<br />
claim<br />
commit </td><td bgcolor="#66ff66" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
commit<br />
retrieve<br />
release </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
commit<br />
retrieve </td><td bgcolor="#ff9933" valign="top" align="center">1 page<br />
claim </td><td bgcolor="#ffff66" valign="top" align="center">1 page<br />
claim<br />
commit </td><td bgcolor="#ffff66" valign="top" align="center">1 page<br />
claim<br />
commit </td><td bgcolor="#8f8f8f" valign="top" align="center">unused </td><td bgcolor="#8f8f8f" valign="top" align="center">unused </td><td bgcolor="#8f8f8f" valign="top" align="center">waste </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">User Data: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">BB BB </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">cc cc </td><td bgcolor="#ffff66" valign="top" align="center">DD </td><td bgcolor="#66ff66" valign="top" align="center" colspan="2">EE EE </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">FF FF </td><td bgcolor="#ff9933" valign="top" align="center">gg </td><td bgcolor="#ffff66" valign="top" align="center">HH </td><td bgcolor="#ffff66" valign="top" align="center">II </td><td bgcolor="#8f8f8f" valign="top" align="center">aa </td><td bgcolor="#8f8f8f" valign="top" align="center">aa </td><td bgcolor="#8f8f8f"></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Snaphot: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">index 0<br />
released </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">index 1<br />
incomplete<br />
released </td><td bgcolor="#ffff66" valign="top" align="center">index 2 </td><td bgcolor="#66ff66" valign="top" align="center" colspan="2">index 3<br />
released </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">index 4 </td><td bgcolor="#ff9933" valign="top" align="center">index 5<br />
incomplete </td><td bgcolor="#ffff66" valign="top" align="center">index 6 </td><td bgcolor="#ffff66" valign="top" align="center">index 7 </td><td></td><td></td><td></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Available Size: </td><td bgcolor="#cc66ff" valign="top" align="center" colspan="3">3 pages </td><td colspan="9"></td><td bgcolor="#cc66ff" valign="top" align="center" colspan="3">3 pages </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
</table>
<h3>Retrieve Operation - <a class="el" href="class_a_q_reader.html#a6746d86b29c04ff19032106323cdef6f" title="Obtains the next item from the queue. ">AQReader::retrieve()</a></h3>
<table class="doxtable">
<tr>
<td border="0" width="10%">Pointers: </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td bgcolor="#99ffcc" width="6%" align="center">Tail </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td bgcolor="#8f8f8f" width="6%" align="center">Head </td><td width="6%"></td><td width="6%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Index: </td><td bgcolor="#bfbfbf" valign="middle" align="center">0 </td><td bgcolor="#bfbfbf" valign="middle" align="center">1 </td><td bgcolor="#ff5050" valign="middle" align="center">2 </td><td bgcolor="#ff5050" valign="middle" align="center">3 </td><td bgcolor="#99ffcc" valign="middle" align="center">4 </td><td bgcolor="#66ff66" valign="middle" align="center">5 </td><td bgcolor="#66ff66" valign="middle" align="center">6 </td><td bgcolor="#99ffcc" valign="middle" align="center">7 </td><td bgcolor="#99ffcc" valign="middle" align="center">8 </td><td bgcolor="#ff9933" valign="middle" align="center">9 </td><td bgcolor="#ffff66" valign="middle" align="center">10 </td><td bgcolor="#ffff66" valign="middle" align="center">11 </td><td bgcolor="#8f8f8f" valign="middle" align="center">12 </td><td bgcolor="#8f8f8f" valign="middle" align="center">13 </td><td bgcolor="#8f8f8f" valign="middle" align="center">14 </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Control: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">2 pages<br />
commit<br />
released </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
released </td><td bgcolor="#99ffcc" valign="top" align="center">1 page<br />
claim<br />
commit<br />
retrieve </td><td bgcolor="#66ff66" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
commit<br />
retrieve<br />
release </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
commit<br />
retrieve </td><td bgcolor="#ff9933" valign="top" align="center">1 page<br />
claim </td><td bgcolor="#ffff66" valign="top" align="center">1 page<br />
claim<br />
commit </td><td bgcolor="#ffff66" valign="top" align="center">1 page<br />
claim<br />
commit </td><td bgcolor="#8f8f8f" valign="top" align="center">unused </td><td bgcolor="#8f8f8f" valign="top" align="center">unused </td><td bgcolor="#8f8f8f" valign="top" align="center">waste </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">User Data: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">BB BB </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">cc cc </td><td bgcolor="#99ffcc" valign="top" align="center">DD </td><td bgcolor="#66ff66" valign="top" align="center" colspan="2">EE EE </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">FF FF </td><td bgcolor="#ff9933" valign="top" align="center">gg </td><td bgcolor="#ffff66" valign="top" align="center">HH </td><td bgcolor="#ffff66" valign="top" align="center">II </td><td bgcolor="#8f8f8f" valign="top" align="center">aa </td><td bgcolor="#8f8f8f" valign="top" align="center">aa </td><td bgcolor="#8f8f8f"></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Snaphot: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">index 0<br />
released </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">index 1<br />
incomplete<br />
released </td><td bgcolor="#99ffcc" valign="top" align="center">index 2 </td><td bgcolor="#66ff66" valign="top" align="center" colspan="2">index 3<br />
released </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">index 4 </td><td bgcolor="#ff9933" valign="top" align="center">index 5<br />
incomplete </td><td bgcolor="#ffff66" valign="top" align="center">index 6 </td><td bgcolor="#ffff66" valign="top" align="center">index 7 </td><td></td><td></td><td></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Available Size: </td><td bgcolor="#cc66ff" valign="top" align="center" colspan="3">3 pages </td><td colspan="9"></td><td bgcolor="#cc66ff" valign="top" align="center" colspan="3">3 pages </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
</table>
<h3>Release Operation - <a class="el" href="class_a_q_reader.html#aad5233986e056a2da7f23e282b7a2596" title="Releases the passed item so that it can be discarded from the queue. ">AQReader::release()</a></h3>
<table class="doxtable">
<tr>
<td border="0" width="10%">Pointers: </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td bgcolor="#99ffcc" width="6%" align="center">Tail </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td bgcolor="#8f8f8f" width="6%" align="center">Head </td><td width="6%"></td><td width="6%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Index: </td><td bgcolor="#bfbfbf" valign="middle" align="center">0 </td><td bgcolor="#bfbfbf" valign="middle" align="center">1 </td><td bgcolor="#ff5050" valign="middle" align="center">2 </td><td bgcolor="#ff5050" valign="middle" align="center">3 </td><td bgcolor="#bfbfbf" valign="middle" align="center">4 </td><td bgcolor="#bfbfbf" valign="middle" align="center">5 </td><td bgcolor="#bfbfbf" valign="middle" align="center">6 </td><td bgcolor="#99ffcc" valign="middle" align="center">7 </td><td bgcolor="#99ffcc" valign="middle" align="center">8 </td><td bgcolor="#ff9933" valign="middle" align="center">9 </td><td bgcolor="#ffff66" valign="middle" align="center">10 </td><td bgcolor="#ffff66" valign="middle" align="center">11 </td><td bgcolor="#8f8f8f" valign="middle" align="center">12 </td><td bgcolor="#8f8f8f" valign="middle" align="center">13 </td><td bgcolor="#8f8f8f" valign="middle" align="center">14 </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Control: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">2 pages<br />
commit<br />
released </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
released </td><td bgcolor="#bfbfbf" valign="top" align="center">1 page<br />
commit<br />
released </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">2 pages<br />
commit<br />
released </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
commit<br />
retrieve </td><td bgcolor="#ff9933" valign="top" align="center">1 page<br />
claim </td><td bgcolor="#ffff66" valign="top" align="center">1 page<br />
claim<br />
commit </td><td bgcolor="#ffff66" valign="top" align="center">1 page<br />
claim<br />
commit </td><td bgcolor="#8f8f8f" valign="top" align="center">unused </td><td bgcolor="#8f8f8f" valign="top" align="center">unused </td><td bgcolor="#8f8f8f" valign="top" align="center">waste </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">User Data: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">BB BB </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">cc cc </td><td bgcolor="#bfbfbf" valign="top" align="center">DD </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">EE EE </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">FF FF </td><td bgcolor="#ff9933" valign="top" align="center">gg </td><td bgcolor="#ffff66" valign="top" align="center">HH </td><td bgcolor="#ffff66" valign="top" align="center">II </td><td bgcolor="#8f8f8f" valign="top" align="center">aa </td><td bgcolor="#8f8f8f" valign="top" align="center">aa </td><td bgcolor="#8f8f8f"></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Snaphot: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">index 0<br />
released </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">index 1<br />
incomplete<br />
released </td><td bgcolor="#bfbfbf" valign="top" align="center">index 2<br />
released </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">index 3<br />
released </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">index 4 </td><td bgcolor="#ff9933" valign="top" align="center">index 5<br />
incomplete </td><td bgcolor="#ffff66" valign="top" align="center">index 6 </td><td bgcolor="#ffff66" valign="top" align="center">index 7 </td><td></td><td></td><td></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Available Size: </td><td bgcolor="#cc66ff" valign="top" align="center" colspan="6">6 pages </td><td colspan="6"></td><td valign="top" align="center" colspan="3">3 pages </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
</table>
<h3>Retrieve Operation Starts Expiry Timer - <a class="el" href="class_a_q_reader.html#a6746d86b29c04ff19032106323cdef6f" title="Obtains the next item from the queue. ">AQReader::retrieve()</a></h3>
<table class="doxtable">
<tr>
<td border="0" width="10%">Pointers: </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td bgcolor="#99ffcc" width="6%" align="center">Tail </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td bgcolor="#8f8f8f" width="6%" align="center">Head </td><td width="6%"></td><td width="6%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Index: </td><td bgcolor="#bfbfbf" valign="middle" align="center">0 </td><td bgcolor="#bfbfbf" valign="middle" align="center">1 </td><td bgcolor="#ff5050" valign="middle" align="center">2 </td><td bgcolor="#ff5050" valign="middle" align="center">3 </td><td bgcolor="#bfbfbf" valign="middle" align="center">4 </td><td bgcolor="#bfbfbf" valign="middle" align="center">5 </td><td bgcolor="#bfbfbf" valign="middle" align="center">6 </td><td bgcolor="#99ffcc" valign="middle" align="center">7 </td><td bgcolor="#99ffcc" valign="middle" align="center">8 </td><td bgcolor="#ff9933" valign="middle" align="center">9 </td><td bgcolor="#99ffcc" valign="middle" align="center">10 </td><td bgcolor="#ffff66" valign="middle" align="center">11 </td><td bgcolor="#8f8f8f" valign="middle" align="center">12 </td><td bgcolor="#8f8f8f" valign="middle" align="center">13 </td><td bgcolor="#8f8f8f" valign="middle" align="center">14 </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Control: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">2 pages<br />
commit<br />
released </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
released </td><td bgcolor="#bfbfbf" valign="top" align="center">1 page<br />
commit<br />
released </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">2 pages<br />
commit<br />
released </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
commit<br />
retrieve </td><td bgcolor="#ff9933" valign="top" align="center">1 page<br />
claim<br />
xtimer-on </td><td bgcolor="#99ffcc" valign="top" align="center">1 page<br />
claim<br />
commit<br />
retrieve </td><td bgcolor="#ffff66" valign="top" align="center">1 page<br />
claim<br />
commit </td><td bgcolor="#8f8f8f" valign="top" align="center">unused </td><td bgcolor="#8f8f8f" valign="top" align="center">unused </td><td bgcolor="#8f8f8f" valign="top" align="center">waste </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">User Data: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">BB BB </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">cc cc </td><td bgcolor="#bfbfbf" valign="top" align="center">DD </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">EE EE </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">FF FF </td><td bgcolor="#ff9933" valign="top" align="center">gg </td><td bgcolor="#99ffcc" valign="top" align="center">HH </td><td bgcolor="#ffff66" valign="top" align="center">II </td><td bgcolor="#8f8f8f" valign="top" align="center">aa </td><td bgcolor="#8f8f8f" valign="top" align="center">aa </td><td bgcolor="#8f8f8f"></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Snaphot: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">index 0<br />
released </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">index 1<br />
incomplete<br />
released </td><td bgcolor="#bfbfbf" valign="top" align="center">index 2<br />
released </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">index 3<br />
released </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">index 4 </td><td bgcolor="#ff9933" valign="top" align="center">index 5<br />
incomplete </td><td bgcolor="#99ffcc" valign="top" align="center">index 6 </td><td bgcolor="#ffff66" valign="top" align="center">index 7 </td><td></td><td></td><td></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Available Size: </td><td bgcolor="#cc66ff" valign="top" align="center" colspan="6">6 pages </td><td colspan="6"></td><td valign="top" align="center" colspan="3">3 pages </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
</table>
<h3>Retrieve Operation When Timer Expires - <a class="el" href="class_a_q_reader.html#a6746d86b29c04ff19032106323cdef6f" title="Obtains the next item from the queue. ">AQReader::retrieve()</a></h3>
<table class="doxtable">
<tr>
<td border="0" width="10%">Pointers: </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td bgcolor="#99ffcc" width="6%" align="center">Tail </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td bgcolor="#8f8f8f" width="6%" align="center">Head </td><td width="6%"></td><td width="6%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Index: </td><td bgcolor="#bfbfbf" valign="middle" align="center">0 </td><td bgcolor="#bfbfbf" valign="middle" align="center">1 </td><td bgcolor="#ff5050" valign="middle" align="center">2 </td><td bgcolor="#ff5050" valign="middle" align="center">3 </td><td bgcolor="#bfbfbf" valign="middle" align="center">4 </td><td bgcolor="#bfbfbf" valign="middle" align="center">5 </td><td bgcolor="#bfbfbf" valign="middle" align="center">6 </td><td bgcolor="#99ffcc" valign="middle" align="center">7 </td><td bgcolor="#99ffcc" valign="middle" align="center">8 </td><td bgcolor="#ff9933" valign="middle" align="center">9 </td><td bgcolor="#99ffcc" valign="middle" align="center">10 </td><td bgcolor="#99ffcc" valign="middle" align="center">11 </td><td bgcolor="#8f8f8f" valign="middle" align="center">12 </td><td bgcolor="#8f8f8f" valign="middle" align="center">13 </td><td bgcolor="#8f8f8f" valign="middle" align="center">14 </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Control: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">2 pages<br />
commit<br />
released </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
released </td><td bgcolor="#bfbfbf" valign="top" align="center">1 page<br />
commit<br />
released </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">2 pages<br />
commit<br />
released </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
commit<br />
retrieve </td><td bgcolor="#ff9933" valign="top" align="center">1 page<br />
claim<br />
expired </td><td bgcolor="#99ffcc" valign="top" align="center">1 page<br />
claim<br />
commit<br />
retrieve </td><td bgcolor="#99ffcc" valign="top" align="center">1 page<br />
claim<br />
commit<br />
retrieve </td><td bgcolor="#8f8f8f" valign="top" align="center">unused </td><td bgcolor="#8f8f8f" valign="top" align="center">unused </td><td bgcolor="#8f8f8f" valign="top" align="center">waste </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">User Data: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">BB BB </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">cc cc </td><td bgcolor="#bfbfbf" valign="top" align="center">DD </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">EE EE </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">FF FF </td><td bgcolor="#ff9933" valign="top" align="center">gg </td><td bgcolor="#99ffcc" valign="top" align="center">HH </td><td bgcolor="#99ffcc" valign="top" align="center">II </td><td bgcolor="#8f8f8f" valign="top" align="center">aa </td><td bgcolor="#8f8f8f" valign="top" align="center">aa </td><td bgcolor="#8f8f8f"></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Snaphot: </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">index 0<br />
released </td><td bgcolor="#ff5050" valign="top" align="center" colspan="2">index 1<br />
incomplete<br />
released </td><td bgcolor="#bfbfbf" valign="top" align="center">index 2<br />
released </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">index 3<br />
released </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">index 4 </td><td bgcolor="#ff9933" valign="top" align="center">index 5<br />
incomplete </td><td bgcolor="#99ffcc" valign="top" align="center">index 6 </td><td bgcolor="#99ffcc" valign="top" align="center">index 7 </td><td></td><td></td><td></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Available Size: </td><td bgcolor="#cc66ff" valign="top" align="center" colspan="6">6 pages </td><td colspan="6"></td><td valign="top" align="center" colspan="3">3 pages </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
</table>
<h3>Claim Operation When Timer Expires - <a class="el" href="class_a_q_writer.html#ae0e2eeac326abd648b6aa60a1fb5315a" title="Claims an item to be stored in the queue. ">AQWriter::claim()</a></h3>
<table class="doxtable">
<tr>
<td border="0" width="10%">Pointers: </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td bgcolor="#bfbfbf" width="6%" align="center">Head </td><td width="6%"></td><td bgcolor="#99ffcc" width="6%" align="center">Tail </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Index: </td><td bgcolor="#ff9933" valign="middle" align="center">0 </td><td bgcolor="#ff9933" valign="middle" align="center">1 </td><td bgcolor="#ff9933" valign="middle" align="center">2 </td><td bgcolor="#ff9933" valign="middle" align="center">3 </td><td bgcolor="#ff9933" valign="middle" align="center">4 </td><td bgcolor="#bfbfbf" valign="middle" align="center">5 </td><td bgcolor="#bfbfbf" valign="middle" align="center">6 </td><td bgcolor="#99ffcc" valign="middle" align="center">7 </td><td bgcolor="#99ffcc" valign="middle" align="center">8 </td><td bgcolor="#ff9933" valign="middle" align="center">9 </td><td bgcolor="#99ffcc" valign="middle" align="center">10 </td><td bgcolor="#99ffcc" valign="middle" align="center">11 </td><td bgcolor="#8f8f8f" valign="middle" align="center">12 </td><td bgcolor="#8f8f8f" valign="middle" align="center">13 </td><td bgcolor="#8f8f8f" valign="middle" align="center">14 </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Control: </td><td bgcolor="#ff9933" valign="top" align="center" colspan="5">5 pages<br />
claim </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">2 pages<br />
commit<br />
released </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
commit<br />
retrieve </td><td bgcolor="#ff9933" valign="top" align="center">1 page<br />
claim<br />
expired </td><td bgcolor="#99ffcc" valign="top" align="center">1 page<br />
claim<br />
commit<br />
retrieve </td><td bgcolor="#99ffcc" valign="top" align="center">1 page<br />
claim<br />
commit<br />
retrieve </td><td bgcolor="#8f8f8f" valign="top" align="center" colspan="3">waste </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">User Data: </td><td bgcolor="#ff9933" valign="top" align="center" colspan="5">jj jj jj jj jj </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">EE EE </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">FF FF </td><td bgcolor="#ff9933" valign="top" align="center">gg </td><td bgcolor="#99ffcc" valign="top" align="center">HH </td><td bgcolor="#99ffcc" valign="top" align="center">II </td><td bgcolor="#8f8f8f" colspan="3"></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Snaphot: </td><td bgcolor="#8f8f8f" valign="top" align="center" colspan="5"></td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">index 0<br />
released </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">index 1 </td><td bgcolor="#ff9933" valign="top" align="center">index 2<br />
incomplete </td><td bgcolor="#99ffcc" valign="top" align="center">index 3 </td><td bgcolor="#99ffcc" valign="top" align="center">index 4 </td><td bgcolor="#8f8f8f" valign="top" align="center" colspan="3"></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Available Size: </td><td colspan="5"></td><td bgcolor="#cc66ff" valign="top" align="center" colspan="1">1 page </td><td colspan="9"></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
</table>
<h3>Retrieve Operation When Timer Expires and Queue &gt; 75% Full - AQWriter::retrieve()</h3>
<table class="doxtable">
<tr>
<td border="0" width="10%">Pointers: </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td bgcolor="#bfbfbf" width="6%" align="center">Head </td><td width="6%"></td><td bgcolor="#99ffcc" width="6%" align="center">Tail </td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"></td><td width="6%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Index: </td><td bgcolor="#ff9933" valign="middle" align="center">0 </td><td bgcolor="#ff9933" valign="middle" align="center">1 </td><td bgcolor="#ff9933" valign="middle" align="center">2 </td><td bgcolor="#ff9933" valign="middle" align="center">3 </td><td bgcolor="#ff9933" valign="middle" align="center">4 </td><td bgcolor="#bfbfbf" valign="middle" align="center">5 </td><td bgcolor="#bfbfbf" valign="middle" align="center">6 </td><td bgcolor="#99ffcc" valign="middle" align="center">7 </td><td bgcolor="#99ffcc" valign="middle" align="center">8 </td><td bgcolor="#ff5050" valign="middle" align="center">9 </td><td bgcolor="#99ffcc" valign="middle" align="center">10 </td><td bgcolor="#99ffcc" valign="middle" align="center">11 </td><td bgcolor="#8f8f8f" valign="middle" align="center">12 </td><td bgcolor="#8f8f8f" valign="middle" align="center">13 </td><td bgcolor="#8f8f8f" valign="middle" align="center">14 </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Control: </td><td bgcolor="#ff9933" valign="top" align="center" colspan="5">5 pages<br />
claim </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">2 pages<br />
commit<br />
released </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">2 pages<br />
claim<br />
commit<br />
retrieve </td><td bgcolor="#ff5050" valign="top" align="center">1 page<br />
claim<br />
retrieve </td><td bgcolor="#99ffcc" valign="top" align="center">1 page<br />
claim<br />
commit<br />
retrieve </td><td bgcolor="#99ffcc" valign="top" align="center">1 page<br />
claim<br />
commit<br />
retrieve </td><td bgcolor="#8f8f8f" valign="top" align="center" colspan="3">waste </td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">User Data: </td><td bgcolor="#ff9933" valign="top" align="center" colspan="5">jj jj jj jj jj </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">EE EE </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">FF FF </td><td bgcolor="#ff5050" valign="top" align="center">gg </td><td bgcolor="#99ffcc" valign="top" align="center">HH </td><td bgcolor="#99ffcc" valign="top" align="center">II </td><td bgcolor="#8f8f8f" colspan="3"></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Snaphot: </td><td bgcolor="#ff9933" valign="top" align="center" colspan="5">index 5<br />
incomplete </td><td bgcolor="#bfbfbf" valign="top" align="center" colspan="2">index 0<br />
released </td><td bgcolor="#99ffcc" valign="top" align="center" colspan="2">index 1 </td><td bgcolor="#ff5050" valign="top" align="center">index 2<br />
incomplete </td><td bgcolor="#99ffcc" valign="top" align="center">index 3 </td><td bgcolor="#99ffcc" valign="top" align="center">index 4 </td><td></td><td></td><td></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
<tr>
<td border="0">Available Size: </td><td colspan="5"></td><td bgcolor="#cc66ff" valign="top" align="center" colspan="1">1 page </td><td colspan="9"></td><td width="0%"><p class="starttd"></p>
<p class="endtd"></p>
</td></tr>
</table>
<h2>Usage</h2>
<div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> mem[4096];            <span class="comment">// In this example the shared memory region is fixed.</span></div><div class="line"></div><div class="line"><a class="code" href="class_a_q_reader.html">AQReader</a> reader(mem, <span class="keyword">sizeof</span>(mem));  <span class="comment">// Construct a new reader around the shared memory region.</span></div><div class="line"><span class="keywordflow">if</span> (!reader.<a class="code" href="class_a_q_reader.html#a8f3540da41dd5f50f4509bc62b23f2d3">format</a>(7, 1000))        <span class="comment">// Format the queue; the page size is 128 bytes leading to a pageSizeShift of 7 ((1 &lt;&lt; 7) == 128)</span></div><div class="line">{                                   <span class="comment">// the commit timeout is 1000 milliseconds; no special options are configured.</span></div><div class="line">    fprintf(stderr, <span class="stringliteral">&quot;Queue format failed&quot;</span>); </div><div class="line">    exit(1);</div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 29 2016 11:01:24 for AQ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
